define("paygw_paynocchio/wallet_activation",["exports","./repository"],(function(_exports,_repository){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;_exports.init=user_id=>{const paynocchio_activation_button=document.getElementById("paynocchio_activation_button");if(paynocchio_activation_button){const spinner=paynocchio_activation_button.querySelector(".paynocchio-spinner"),message=document.querySelector(".topup-description");paynocchio_activation_button.addEventListener("click",(()=>{paynocchio_activation_button.classList.add("disabled");const response=(0,_repository.handleWalletActivationClick)(user_id);spinner.classList.add("active"),response.then((data=>{if(data.success){spinner.classList.remove("active"),message.classList.remove("hidden"),document.getElementById("congratz").classList.add("shown");let $i=5,$interval=setInterval((function(){1==--$i&&clearInterval($interval),document.getElementById("congratz_countdown").innerHTML=$i+""}),1e3);setTimeout((function(){document.getElementById("congratz_countdown").classList.add("paynocchio-hidden"),window.location.reload()}),5e3),document.getElementById("card_number").innerText=data.card_number,document.getElementById("page-payment-gateway-paynocchio-pay")&&(document.getElementById("page-payment-gateway-paynocchio-pay").style.overflow="hidden"),document.getElementById("page-payment-gateway-paynocchio-my_paynocchio_wallet")&&(document.getElementById("page-payment-gateway-paynocchio-my_paynocchio_wallet").style.overflow="hidden")}else window.console.log(data)}))}))}const paynocchio_congratz_button=document.getElementById("paynocchio_congratz_button");paynocchio_congratz_button&&(paynocchio_congratz_button.onclick=function(){document.getElementById("congratz_spinner").classList.add("shown"),window.location.reload()})}}));

//# sourceMappingURL=wallet_activation.min.js.map