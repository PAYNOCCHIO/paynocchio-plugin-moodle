define("paygw_paynocchio/wallet_activation",["exports","./repository","core/templates","core/modal"],(function(_exports,_repository,_templates,_modal){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * Paynocchio repository module to encapsulate all of the AJAX requests that can be sent for bank.
   *
   * @module     paygw_paynocchio/repository
   * @copyright  2024 Paynocchio <ceo@paynocchio.com>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_templates=_interopRequireDefault(_templates),_modal=_interopRequireDefault(_modal);_exports.init=user_id=>{const paynocchio_activation_button=document.getElementById("paynocchio_activation_button");if(paynocchio_activation_button){const spinner=paynocchio_activation_button.querySelector(".paynocchio-spinner");paynocchio_activation_button.addEventListener("click",(()=>{const response=(0,_repository.handleWalletActivationClick)(user_id);spinner.classList.add("active"),response.then((data=>{data.success&&spinner.classList.remove("active")}))}))}const paynocchio_wallet_topup_button=document.getElementById("paynocchio_topup_button");paynocchio_wallet_topup_button&&paynocchio_wallet_topup_button.addEventListener("click",(()=>{(async()=>await _modal.default.create({body:await _templates.default.render("paygw_paynocchio/topup_modal",{}),show:!0,removeOnClose:!0}))().then((modal=>{const input=modal.body.find("#top_up_amount");modal.body.find("#topup_button").click((()=>{input.val()&&(0,_repository.handleTopUpClick)(input.val()).then((data=>window.console.log(data)))}))}))}))}}));

//# sourceMappingURL=wallet_activation.min.js.map