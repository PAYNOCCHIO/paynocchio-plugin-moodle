define("paygw_paynocchio/wallet_topup",["exports","./repository"],(function(_exports,_repository){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;_exports.init=pay=>{const paynocchio_wallet_topup_button=document.getElementById("paynocchio_topup_button");paynocchio_wallet_topup_button&&paynocchio_wallet_topup_button.addEventListener("click",(()=>{(0,_repository.showModalWithTopup)().then((modal=>{modal.setTitle("Topup Paynocchio Wallet");const input=modal.body.find("#top_up_amount");modal.body.find("#topup_button").click((()=>{input.val()&&(modal.body.find(".paynocchio-spinner").toggleClass("active"),(0,_repository.handleTopUpClick)(input.val()).then((data=>{var value;data.success&&(pay&&window.location.reload(),modal.body.find(".paynocchio-spinner").toggleClass("active"),modal.body.find("#topup_message").text("Success!"),value=data.balance,document.querySelector(".paynocchio-balance-value").innerText=value,function(value){document.querySelector(".paynocchio-bonus-value").innerText=value}(data.bonuses),setTimeout((()=>{modal.hide(),modal.destroy()}),1e3))})))}))}))}))}}));

//# sourceMappingURL=wallet_topup.min.js.map